
# Blockchain Social (Python + HTML/CSS/JS)

A minimal end-to-end starter for a blockchain-backed social feed:
- **Solidity** smart contract (`contracts/Social.sol`)
- **Python** deploy script using `web3.py` + `py-solc-x` (`scripts/deploy.py`)
- **Flask** server to serve the UI (`app.py`)
- **Plain HTML/CSS/JS** frontend that talks to the contract via MetaMask (EIP-1193 provider) (`templates/index.html`, `static/app.js`)

## Quick Start

### 0) Install prerequisites
- Node is **not required** for this starter. You only need Python 3.9+.
- A local Ethereum node (pick one):
  - **Anvil (Foundry)**: `curl -L https://foundry.paradigm.xyz | bash` then `foundryup`; run with `anvil`
  - **Ganache**: GUI or CLI. Make sure RPC is `http://127.0.0.1:8545` and chainId is **1337** (recommended) or **5777**—see note below.
  - **Hardhat node** (optional): `npx hardhat node` (chainId typically **31337**)

### 1) Create and activate a venv
```bash
cd blockchain-social
python -m venv .venv
# Windows:
.venv\Scripts\activate
# macOS/Linux:
source .venv/bin/activate
```

### 2) Install Python deps
```bash
pip install -r requirements.txt
```

### 3) Start a local chain
Run **one** of the following in a separate terminal:
```bash
anvil
# OR
ganache --chainId 1337 --port 8545
# OR
npx hardhat node
```

> **MetaMask tip (chainId mismatch):**  
> If MetaMask says "different chainId" (e.g., 1337 vs 5777), either:
> - Recreate the network in MetaMask with the **exact chainId** your local node uses; or
> - Launch your node with the chainId that MetaMask expects.  
> For Ganache GUI: set **Chain ID** to 1337 in Settings → Server. For CLI, use `--chainId 1337`.

### 4) Compile & deploy the contract (Python)
```bash
python scripts/deploy.py
```
This will:
- Compile `contracts/Social.sol`
- Deploy it to your local node at `http://127.0.0.1:8545`
- Generate `static/contract.json` with ABI + deployed address

### 5) Run the Flask app
```bash
python app.py
```
Open http://127.0.0.1:5000 and connect with MetaMask (use an account from your local node).

## What you can do
- **Create posts** stored on-chain (simple strings)
- **List posts** (fetched from the contract)
- Minimal UI styled with plain CSS

## Project Structure
```
blockchain-social/
├── app.py
├── requirements.txt
├── contracts/
│   └── Social.sol
├── scripts/
│   └── deploy.py
├── static/
│   ├── app.js
│   ├── style.css
│   └── contract.json        # generated by deploy.py
└── templates/
    └── index.html
```

## Troubleshooting
- If `deploy.py` cannot connect, ensure your node is running on `http://127.0.0.1:8545` **and** the chainId matches the network you added in MetaMask.
- If MetaMask shows "Pending" forever on local chains, switch networks in MetaMask and back again, or clear the account activity for the local network.

## Next steps (ideas)
- Store post content hashes on-chain, actual text/media on IPFS.
- Add profiles, likes, comments (new mappings and events).
- Pagination by reading events not just arrays.
- Move to a testnet (e.g., Sepolia) and add a wallet connect modal.
